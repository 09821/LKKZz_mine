<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LKKZ_MINE - Melhores Texturas e Addons para Minecraft</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary: #00adb5;
            --secondary: #393e46;
            --dark: #222831;
            --light: #eeeeee;
            --accent: #ffd369;
            --success: #00ff88;
            --danger: #ff6b6b;
        }

        body {
            background: linear-gradient(135deg, #0a0a0a, #1a1a1a);
            color: var(--light);
            min-height: 100vh;
            line-height: 1.6;
        }

        /* Header */
        .header {
            background: linear-gradient(90deg, var(--dark), #151515);
            padding: 2rem;
            text-align: center;
            border-bottom: 3px solid var(--primary);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
            position: relative;
            cursor: pointer;
            user-select: none;
        }

        .title {
            font-size: 3.5rem;
            background: linear-gradient(45deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 30px rgba(0, 173, 181, 0.3);
            letter-spacing: 2px;
            font-weight: 900;
            margin-bottom: 0.5rem;
            transition: transform 0.3s;
        }

        .title:hover {
            transform: scale(1.02);
        }

        .subtitle {
            color: #aaa;
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        /* Main Container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Tabs */
        .tabs {
            display: flex;
            background: var(--dark);
            border-radius: 15px 15px 0 0;
            overflow: hidden;
            margin-bottom: 0;
            border: 1px solid rgba(0, 173, 181, 0.2);
        }

        .tab-btn {
            flex: 1;
            padding: 1.2rem;
            background: rgba(34, 40, 49, 0.8);
            border: none;
            color: var(--light);
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .tab-btn::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 4px;
            background: var(--primary);
            transition: width 0.3s;
        }

        .tab-btn.active {
            background: rgba(0, 173, 181, 0.15);
            color: var(--accent);
        }

        .tab-btn.active::after {
            width: 100%;
        }

        /* Vitrine */
        .vitrine-container {
            background: var(--dark);
            border-radius: 0 0 15px 15px;
            padding: 2rem;
            min-height: 600px;
            border: 1px solid rgba(0, 173, 181, 0.2);
            border-top: none;
        }

        .vitrine {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .item-card {
            background: linear-gradient(145deg, #2d3746, #252e3a);
            border-radius: 15px;
            padding: 1.5rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid rgba(0, 173, 181, 0.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }

        .item-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.3);
            border-color: var(--primary);
        }

        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .item-name {
            font-size: 1.4rem;
            color: var(--primary);
            font-weight: 700;
        }

        .item-type {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .type-textura { background: rgba(0, 173, 181, 0.2); color: var(--primary); }
        .type-addon { background: rgba(255, 211, 105, 0.2); color: var(--accent); }
        .type-mod { background: rgba(0, 255, 136, 0.2); color: var(--success); }

        .item-description {
            color: #ccc;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .item-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 1.5rem;
        }

        .item-price {
            font-size: 1.5rem;
            color: var(--success);
            font-weight: 800;
        }

        .download-btn {
            background: linear-gradient(45deg, var(--primary), #0097a7);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 173, 181, 0.4);
        }

        .download-btn:active {
            transform: translateY(0);
        }

        /* Modal Login */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 10000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: linear-gradient(145deg, var(--dark), #1a1f28);
            padding: 3rem;
            border-radius: 20px;
            width: 90%;
            max-width: 400px;
            border: 2px solid var(--primary);
            box-shadow: 0 0 50px rgba(0, 173, 181, 0.3);
            text-align: center;
        }

        .modal h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-size: 2rem;
        }

        .modal input {
            width: 100%;
            padding: 1rem;
            margin-bottom: 1.5rem;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid var(--secondary);
            border-radius: 10px;
            color: white;
            font-size: 1rem;
        }

        .modal input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .modal button {
            background: var(--primary);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            width: 100%;
            transition: all 0.3s;
        }

        .modal button:hover {
            background: #0097a7;
            transform: translateY(-2px);
        }

        /* Admin Panel */
        .admin-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(145deg, var(--dark), #1a1f28);
            padding: 2rem;
            border-radius: 20px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            z-index: 10001;
            border: 3px solid var(--primary);
            box-shadow: 0 0 100px rgba(0, 0, 0, 0.9);
            display: none;
        }

        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary);
        }

        .admin-title {
            color: var(--primary);
            font-size: 1.8rem;
        }

        .close-admin {
            background: var(--danger);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
        }

        .admin-form {
            background: rgba(0, 0, 0, 0.3);
            padding: 2rem;
            border-radius: 15px;
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--light);
            font-weight: 600;
        }

        .form-control {
            width: 100%;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid var(--secondary);
            border-radius: 10px;
            color: white;
            font-size: 1rem;
        }

        .price-container {
            background: rgba(0, 255, 136, 0.1);
            border: 2px solid var(--success);
            border-radius: 10px;
            padding: 1rem;
            color: var(--success);
            font-weight: 800;
            font-size: 1.2rem;
            text-align: center;
        }

        .submit-btn {
            background: linear-gradient(45deg, var(--primary), #0097a7);
            color: white;
            border: none;
            padding: 1rem 2rem;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            width: 100%;
            transition: all 0.3s;
            margin-top: 1rem;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 173, 181, 0.4);
        }

        .admin-items {
            background: rgba(0, 0, 0, 0.3);
            padding: 2rem;
            border-radius: 15px;
        }

        .item-admin-card {
            background: rgba(255, 255, 255, 0.05);
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 1rem;
            border-left: 4px solid var(--primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .item-admin-info h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .item-admin-info span {
            color: #aaa;
            font-size: 0.9rem;
        }

        .item-actions {
            display: flex;
            gap: 1rem;
        }

        .edit-btn, .delete-btn {
            padding: 0.5rem 1rem;
            border-radius: 5px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .edit-btn {
            background: var(--accent);
            color: var(--dark);
        }

        .delete-btn {
            background: var(--danger);
            color: white;
        }

        .edit-btn:hover, .delete-btn:hover {
            transform: translateY(-2px);
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
            border-top: 1px solid var(--secondary);
            color: #aaa;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 3rem;
            grid-column: 1 / -1;
        }

        .empty-icon {
            font-size: 4rem;
            color: var(--secondary);
            margin-bottom: 1rem;
        }

        /* File Preview */
        .file-preview {
            background: rgba(0, 0, 0, 0.3);
            padding: 1rem;
            border-radius: 10px;
            margin-top: 1rem;
            border-left: 3px solid var(--primary);
        }

        .file-preview h4 {
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .file-info {
            color: #aaa;
            font-size: 0.9rem;
        }

        /* Click Counter */
        .click-counter {
            position: fixed;
            top: 10px;
            right: 10px;
            background: rgba(0, 0, 0, 0.7);
            color: var(--primary);
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            opacity: 0;
            transition: opacity 0.3s;
            z-index: 1000;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .title {
                font-size: 2.5rem;
            }
            
            .vitrine {
                grid-template-columns: 1fr;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .admin-panel {
                padding: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header" id="mainHeader">
        <div class="click-counter" id="clickCounter"></div>
        <h1 class="title">LKKZ_MINE</h1>
        <p class="subtitle">As melhores texturas, addons e mods para Minecraft em tempo real</p>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Tabs Navigation -->
        <div class="tabs">
            <button class="tab-btn active" data-tab="texturas">üé® TEXTURAS</button>
            <button class="tab-btn" data-tab="addons">‚ö° ADDONS</button>
            <button class="tab-btn" data-tab="mods">üîß MODS</button>
        </div>

        <!-- Vitrine Content -->
        <div class="vitrine-container">
            <div class="tab-content active" id="texturas">
                <h2 style="color: var(--primary); margin-bottom: 1rem;">Texturas Premium</h2>
                <p style="color: #aaa; margin-bottom: 2rem;">Baixe as melhores texturas HD para seu Minecraft</p>
                <div class="vitrine" id="vitrine-texturas">
                    <!-- Itens ser√£o carregados via JavaScript -->
                </div>
            </div>

            <div class="tab-content" id="addons">
                <h2 style="color: var(--accent); margin-bottom: 1rem;">Addons Exclusivos</h2>
                <p style="color: #aaa; margin-bottom: 2rem;">Addons incr√≠veis para melhorar sua experi√™ncia</p>
                <div class="vitrine" id="vitrine-addons">
                    <!-- Itens ser√£o carregados via JavaScript -->
                </div>
            </div>

            <div class="tab-content" id="mods">
                <h2 style="color: var(--success); margin-bottom: 1rem;">Mods Realistas</h2>
                <p style="color: #aaa; margin-bottom: 2rem;">Mods de sistemas reais em tempo real</p>
                <div class="vitrine" id="vitrine-mods">
                    <!-- Itens ser√£o carregados via JavaScript -->
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <p>¬© 2024 LKKZ_MINE - Todos os direitos reservados</p>
        <p style="margin-top: 0.5rem; font-size: 0.9rem;">Conte√∫do atualizado em tempo real ‚Ä¢ Sistema permanente</p>
    </footer>

    <!-- Login Modal -->
    <div class="modal" id="loginModal">
        <div class="modal-content">
            <h2>üîê ACESSO ADMINISTRATIVO</h2>
            <p style="color: #aaa; margin-bottom: 1.5rem;">Digite a senha para acessar o painel</p>
            <input type="password" id="adminPassword" placeholder="Senha secreta">
            <button id="loginButton">ACESSAR PAINEL</button>
            <p id="loginError" style="color: var(--danger); margin-top: 1rem; display: none;">‚ùå Senha incorreta!</p>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-header">
            <h2 class="admin-title">PAINEL ADMINISTRATIVO LKKZ_MINE</h2>
            <button class="close-admin" onclick="closeAdminPanel()">‚úï FECHAR</button>
        </div>

        <!-- Admin Form -->
        <div class="admin-form">
            <h3 style="color: var(--primary); margin-bottom: 1.5rem;">‚ûï ADICIONAR NOVO ITEM</h3>
            <form id="addItemForm">
                <div class="form-group">
                    <label for="itemFile">üìÅ ARQUIVO (TEXTURA, ADDON OU MOD)</label>
                    <input type="file" id="itemFile" class="form-control" accept=".mcpack,.mcaddon,.zip,.rar,.7z,.txt,.png,.jpg,.mcworld" required>
                    <div class="file-preview" id="filePreview" style="display: none;">
                        <h4>üìÑ Pr√©-visualiza√ß√£o do Arquivo</h4>
                        <div class="file-info" id="fileInfo"></div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="itemCategory">üìÇ CATEGORIA DO ITEM</label>
                    <select id="itemCategory" class="form-control">
                        <option value="texturas">üé® Textura</option>
                        <option value="addons">‚ö° Addon</option>
                        <option value="mods">üîß Mod</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="itemName">üìù NOME DO ITEM</label>
                    <input type="text" id="itemName" class="form-control" placeholder="Ex: Textura Realista 4K" required>
                </div>

                <div class="form-group">
                    <label for="itemDescription">üìã DESCRI√á√ÉO DO ITEM</label>
                    <textarea id="itemDescription" class="form-control" rows="3" placeholder="Descreva o item aqui..." required></textarea>
                </div>

                <div class="form-group">
                    <label>üí∞ PRE√áO (SEMPRE GR√ÅTIS)</label>
                    <div class="price-container">
                        GR√ÅTIS
                    </div>
                </div>

                <button type="submit" class="submit-btn">üöÄ ENVIAR PARA VITRINE</button>
            </form>
        </div>

        <!-- Admin Items List -->
        <div class="admin-items">
            <h3 style="color: var(--primary); margin-bottom: 1.5rem;">üìã ITENS CADASTRADOS</h3>
            <div id="adminItemsList">
                <!-- Itens ser√£o carregados via JavaScript -->
            </div>
        </div>
    </div>

    <script>
        // ===============================
        // SISTEMA DE ARMAZENAMENTO PERMANENTE
        // ===============================
        const STORAGE_KEY = 'lkkz_mine_store_v3';
        
        // Dados iniciais (s√≥ usados na primeira vez)
        const initialData = {
            texturas: [
                {
                    id: '1',
                    name: 'Textura Realista HD 4K',
                    description: 'Textura ultra realista com resolu√ß√£o 4K para Minecraft. Inclui texturas detalhadas para todos os blocos.',
                    price: 'GR√ÅTIS',
                    fileName: 'textura_realista_hd.mcpack',
                    fileSize: '45.2 MB',
                    downloads: 1250,
                    fileData: null, // Vai armazenar o arquivo real
                    fileType: 'mcpack'
                },
                {
                    id: '2',
                    name: 'Pack Texturas Medieval',
                    description: 'Pack completo com tema medieval para constru√ß√µes √©picas. Inclui texturas para castelos e vilas.',
                    price: 'GR√ÅTIS',
                    fileName: 'pack_medieval.mcpack',
                    fileSize: '32.8 MB',
                    downloads: 890,
                    fileData: null,
                    fileType: 'mcpack'
                }
            ],
            addons: [
                {
                    id: '3',
                    name: 'Addon de Ve√≠culos Realistas',
                    description: 'Adicione carros, motos e caminh√µes com f√≠sica realista ao Minecraft. Totalmente personaliz√°vel.',
                    price: 'GR√ÅTIS',
                    fileName: 'addon_veiculos.mcaddon',
                    fileSize: '18.5 MB',
                    downloads: 2100,
                    fileData: null,
                    fileType: 'mcaddon'
                }
            ],
            mods: [
                {
                    id: '4',
                    name: 'Mod de Clima Din√¢mico',
                    description: 'Sistema de clima em tempo real com esta√ß√µes do ano, tempestades e efeitos atmosf√©ricos realistas.',
                    price: 'GR√ÅTIS',
                    fileName: 'mod_clima.zip',
                    fileSize: '12.3 MB',
                    downloads: 1560,
                    fileData: null,
                    fileType: 'zip'
                }
            ]
        };

        // Carregar dados do localStorage ou usar dados iniciais
        function loadStoreData() {
            const saved = localStorage.getItem(STORAGE_KEY);
            if (saved) {
                return JSON.parse(saved);
            }
            // Se n√£o h√° dados salvos, salvar os dados iniciais
            localStorage.setItem(STORAGE_KEY, JSON.stringify(initialData));
            return initialData;
        }

        // Salvar dados no localStorage
        function saveStoreData(data) {
            localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
        }

        // Obter dados atuais
        let storeData = loadStoreData();

        // ===============================
        // SISTEMA DE VITRINE
        // ===============================
        const vitrines = {
            texturas: document.getElementById('vitrine-texturas'),
            addons: document.getElementById('vitrine-addons'),
            mods: document.getElementById('vitrine-mods')
        };

        // Renderizar vitrine
        function renderVitrine() {
            // Limpar todas as vitrines
            for (const type in vitrines) {
                vitrines[type].innerHTML = '';
            }

            // Renderizar cada categoria
            for (const type in storeData) {
                const items = storeData[type];
                const vitrine = vitrines[type];
                
                if (items.length === 0) {
                    vitrine.innerHTML = `
                        <div class="empty-state">
                            <div class="empty-icon">üìÅ</div>
                            <h3 style="color: var(--primary); margin-bottom: 0.5rem;">Nenhum item dispon√≠vel</h3>
                            <p style="color: #aaa;">Novos itens em breve!</p>
                        </div>
                    `;
                    continue;
                }

                items.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'item-card';
                    card.setAttribute('data-id', item.id);
                    
                    let typeClass = 'type-textura';
                    let typeText = 'TEXTURA';
                    let icon = 'üé®';
                    
                    if (type === 'addons') {
                        typeClass = 'type-addon';
                        typeText = 'ADDON';
                        icon = '‚ö°';
                    } else if (type === 'mods') {
                        typeClass = 'type-mod';
                        typeText = 'MOD';
                        icon = 'üîß';
                    }

                    card.innerHTML = `
                        <div class="item-header">
                            <h3 class="item-name">${icon} ${item.name}</h3>
                            <span class="item-type ${typeClass}">${typeText}</span>
                        </div>
                        <p class="item-description">${item.description}</p>
                        <div style="margin: 1rem 0; padding: 0.5rem; background: rgba(0,0,0,0.2); border-radius: 5px;">
                            <small style="color: #aaa;">üìÑ ${item.fileName}</small>
                            <small style="color: #777; margin-left: 1rem;">üì¶ ${item.fileSize}</small>
                        </div>
                        <div class="item-footer">
                            <div>
                                <div class="item-price">${item.price}</div>
                                <small style="color: #777; font-size: 0.8rem;">‚¨áÔ∏è ${item.downloads.toLocaleString()} downloads</small>
                            </div>
                            <button class="download-btn" onclick="downloadItem('${type}', '${item.id}')">
                                <span>‚¨áÔ∏è</span> BAIXAR AGORA
                            </button>
                        </div>
                    `;
                    
                    vitrine.appendChild(card);
                });
            }
        }

        // ===============================
        // SISTEMA DE DOWNLOAD REAL DO ARQUIVO ORIGINAL
        // ===============================
        async function downloadItem(type, itemId) {
            const items = storeData[type];
            const item = items.find(i => i.id === itemId);
            
            if (!item) {
                alert('Item n√£o encontrado!');
                return;
            }

            try {
                // Se tiver fileData (arquivo salvo), baixar o arquivo real
                if (item.fileData) {
                    // Converter base64 de volta para arquivo
                    const byteCharacters = atob(item.fileData);
                    const byteNumbers = new Array(byteCharacters.length);
                    for (let i = 0; i < byteCharacters.length; i++) {
                        byteNumbers[i] = byteCharacters.charCodeAt(i);
                    }
                    const byteArray = new Uint8Array(byteNumbers);
                    const blob = new Blob([byteArray], { type: getMimeType(item.fileType) });
                    
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = item.fileName;
                    document.body.appendChild(a);
                    a.click();
                    
                    // Limpar
                    setTimeout(() => {
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                    }, 100);
                } else {
                    // Se n√£o tiver fileData, criar um arquivo de exemplo
                    const fileContent = `Este √© um exemplo de arquivo ${item.fileType}\nBaixe o arquivo real pelo painel administrativo!`;
                    const blob = new Blob([fileContent], { type: 'text/plain' });
                    const url = URL.createObjectURL(blob);
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = item.fileName;
                    document.body.appendChild(a);
                    a.click();
                    
                    setTimeout(() => {
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                    }, 100);
                }

                // Atualizar contador de downloads
                item.downloads = (item.downloads || 0) + 1;
                saveStoreData(storeData);
                
                // Atualizar vitrine
                renderVitrine();
                
                // Feedback visual
                const downloadBtn = event.target.closest('.download-btn');
                const originalText = downloadBtn.innerHTML;
                downloadBtn.innerHTML = '<span>‚úÖ</span> BAIXANDO...';
                downloadBtn.style.background = 'linear-gradient(45deg, var(--success), #00cc66)';
                
                setTimeout(() => {
                    downloadBtn.innerHTML = originalText;
                    downloadBtn.style.background = 'linear-gradient(45deg, var(--primary), #0097a7)';
                }, 2000);

            } catch (error) {
                console.error('Erro ao baixar:', error);
                alert('Erro ao baixar o arquivo!');
            }
        }

        // Fun√ß√£o para obter MIME type baseado na extens√£o
        function getMimeType(fileType) {
            const mimeTypes = {
                'mcpack': 'application/mcpack',
                'mcaddon': 'application/mcaddon',
                'zip': 'application/zip',
                'rar': 'application/vnd.rar',
                '7z': 'application/x-7z-compressed',
                'txt': 'text/plain',
                'png': 'image/png',
                'jpg': 'image/jpeg',
                'jpeg': 'image/jpeg',
                'mcworld': 'application/mcworld'
            };
            return mimeTypes[fileType] || 'application/octet-stream';
        }

        // ===============================
        // SISTEMA DE PAINEL ADMINISTRATIVO SECRETO
        // ===============================
        let clickCount = 0;
        const header = document.getElementById('mainHeader');
        const clickCounter = document.getElementById('clickCounter');
        const loginModal = document.getElementById('loginModal');
        const adminPanel = document.getElementById('adminPanel');
        const adminPassword = document.getElementById('adminPassword');
        const loginButton = document.getElementById('loginButton');
        const loginError = document.getElementById('loginError');
        const itemFile = document.getElementById('itemFile');
        const filePreview = document.getElementById('filePreview');
        const fileInfo = document.getElementById('fileInfo');

        // Preview do arquivo selecionado
        itemFile.addEventListener('change', function(e) {
            if (this.files && this.files[0]) {
                const file = this.files[0];
                const fileType = file.name.split('.').pop().toLowerCase();
                
                fileInfo.innerHTML = `
                    <div><strong>Nome:</strong> ${file.name}</div>
                    <div><strong>Tamanho:</strong> ${formatFileSize(file.size)}</div>
                    <div><strong>Tipo:</strong> ${fileType.toUpperCase()}</div>
                `;
                filePreview.style.display = 'block';
            }
        });

        // Sistema de cliques no t√≠tulo
        header.addEventListener('click', () => {
            clickCount++;
            
            // Mostrar contador brevemente
            clickCounter.textContent = `Cliques: ${clickCount}`;
            clickCounter.style.opacity = '1';
            
            // Reset ap√≥s 3 segundos
            clearTimeout(window.clickTimeout);
            window.clickTimeout = setTimeout(() => {
                clickCount = 0;
                clickCounter.style.opacity = '0';
            }, 3000);
            
            // Se clicou 3 vezes, mostrar modal de login
            if (clickCount === 3) {
                showLoginModal();
                clickCount = 0;
                clickCounter.style.opacity = '0';
            }
        });

        function showLoginModal() {
            loginModal.style.display = 'flex';
            adminPassword.focus();
        }

        // Login
        loginButton.addEventListener('click', () => {
            if (adminPassword.value === 'LK9890') {
                loginModal.style.display = 'none';
                adminPassword.value = '';
                loginError.style.display = 'none';
                showAdminPanel();
            } else {
                loginError.style.display = 'block';
                adminPassword.value = '';
            }
        });

        // Fechar modal ao pressionar Enter
        adminPassword.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                loginButton.click();
            }
        });

        // Fechar modal ao clicar fora
        loginModal.addEventListener('click', (e) => {
            if (e.target === loginModal) {
                loginModal.style.display = 'none';
                adminPassword.value = '';
                loginError.style.display = 'none';
                clickCount = 0;
            }
        });

        // Mostrar painel admin
        function showAdminPanel() {
            adminPanel.style.display = 'block';
            renderAdminItems();
        }

        // Fechar painel admin
        function closeAdminPanel() {
            adminPanel.style.display = 'none';
            // Resetar formul√°rio
            document.getElementById('addItemForm').reset();
            filePreview.style.display = 'none';
        }

        // ===============================
        // SISTEMA DE GERENCIAMENTO DE ITENS COM ARQUIVOS REAIS
        // ===============================
        const addItemForm = document.getElementById('addItemForm');
        const itemCategory = document.getElementById('itemCategory');
        const itemName = document.getElementById('itemName');
        const itemDescription = document.getElementById('itemDescription');

        // Adicionar novo item COM ARQUIVO REAL
        addItemForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            if (!itemFile.files[0]) {
                alert('Por favor, selecione um arquivo REAL!');
                return;
            }
            
            if (!itemName.value.trim()) {
                alert('Por favor, digite um nome para o item!');
                return;
            }
            
            if (!itemDescription.value.trim()) {
                alert('Por favor, digite uma descri√ß√£o para o item!');
                return;
            }
            
            try {
                const file = itemFile.files[0];
                const fileType = file.name.split('.').pop().toLowerCase();
                
                // Converter arquivo para base64 para armazenar
                const fileData = await convertFileToBase64(file);
                
                // Criar novo item COM O ARQUIVO REAL
                const newItem = {
                    id: Date.now().toString(),
                    name: itemName.value,
                    description: itemDescription.value,
                    price: 'GR√ÅTIS',
                    fileName: file.name,
                    fileSize: formatFileSize(file.size),
                    downloads: 0,
                    fileData: fileData, // ARMAZENA O ARQUIVO REAL
                    fileType: fileType
                };
                
                // Adicionar ao armazenamento
                const category = itemCategory.value;
                if (!storeData[category]) {
                    storeData[category] = [];
                }
                storeData[category].push(newItem);
                
                // Salvar permanentemente
                saveStoreData(storeData);
                
                // Atualizar interfaces
                renderVitrine();
                renderAdminItems();
                
                // Limpar formul√°rio
                addItemForm.reset();
                filePreview.style.display = 'none';
                
                // Feedback
                alert('‚úÖ Item adicionado com sucesso! O arquivo REAL foi salvo.');
                
            } catch (error) {
                console.error('Erro ao processar arquivo:', error);
                alert('Erro ao processar o arquivo!');
            }
        });

        // Converter arquivo para base64
        function convertFileToBase64(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = () => {
                    // Remover o prefixo data:application/octet-stream;base64,
                    const base64String = reader.result.split(',')[1];
                    resolve(base64String);
                };
                reader.onerror = reject;
                reader.readAsDataURL(file);
            });
        }

        // Renderizar itens no painel admin
        function renderAdminItems() {
            const adminItemsList = document.getElementById('adminItemsList');
            adminItemsList.innerHTML = '';
            
            let hasItems = false;
            
            for (const type in storeData) {
                const items = storeData[type];
                
                if (items.length > 0) {
                    hasItems = true;
                    const categoryTitle = document.createElement('h4');
                    categoryTitle.style.color = type === 'texturas' ? 'var(--primary)' : 
                                               type === 'addons' ? 'var(--accent)' : 
                                               'var(--success)';
                    categoryTitle.style.margin = '1rem 0 0.5rem 0';
                    categoryTitle.textContent = type === 'texturas' ? 'üé® Texturas' : 
                                               type === 'addons' ? '‚ö° Addons' : 
                                               'üîß Mods';
                    adminItemsList.appendChild(categoryTitle);
                }
                
                items.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'item-admin-card';
                    
                    card.innerHTML = `
                        <div class="item-admin-info">
                            <h4>${item.name}</h4>
                            <span>üìÑ ${item.fileName} ‚Ä¢ üì¶ ${item.fileSize}</span>
                            <div style="margin-top: 0.3rem; font-size: 0.8rem;">
                                <span style="color: ${item.fileData ? 'var(--success)' : 'var(--danger)'};">
                                    ${item.fileData ? '‚úÖ ARQUIVO REAL SALVO' : '‚ö†Ô∏è SEM ARQUIVO'}
                                </span>
                                <span style="margin-left: 1rem; color: #777;">‚¨áÔ∏è ${item.downloads} downloads</span>
                            </div>
                        </div>
                        <div class="item-actions">
                            <button class="edit-btn" onclick="editItem('${type}', '${item.id}')">‚úèÔ∏è EDITAR</button>
                            <button class="delete-btn" onclick="deleteItem('${type}', '${item.id}')">üóëÔ∏è EXCLUIR</button>
                        </div>
                    `;
                    
                    adminItemsList.appendChild(card);
                });
            }
            
            if (!hasItems) {
                adminItemsList.innerHTML = `
                    <div style="text-align: center; padding: 2rem; color: #aaa;">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">üìÅ</div>
                        <p>Nenhum item cadastrado ainda.</p>
                    </div>
                `;
            }
        }

        // Editar item
        window.editItem = function(type, itemId) {
            const items = storeData[type];
            const item = items.find(i => i.id === itemId);
            
            if (!item) return;
            
            const newName = prompt('Novo nome do item:', item.name);
            if (newName === null) return;
            
            const newDescription = prompt('Nova descri√ß√£o:', item.description);
            if (newDescription === null) return;
            
            item.name = newName;
            item.description = newDescription;
            
            saveStoreData(storeData);
            renderVitrine();
            renderAdminItems();
            
            alert('‚úÖ Item editado com sucesso!');
        };

        // Excluir item
        window.deleteItem = function(type, itemId) {
            if (!confirm('Tem certeza que deseja excluir este item permanentemente?')) {
                return;
            }
            
            storeData[type] = storeData[type].filter(item => item.id !== itemId);
            
            saveStoreData(storeData);
            renderVitrine();
            renderAdminItems();
            
            alert('‚úÖ Item exclu√≠do com sucesso!');
        };

        // ===============================
        // SISTEMA DE ABAS
        // ===============================
        const tabBtns = document.querySelectorAll('.tab-btn');
        const tabContents = document.querySelectorAll('.tab-content');

        tabBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                const tabId = btn.getAttribute('data-tab');
                
                // Remover active de todos
                tabBtns.forEach(b => b.classList.remove('active'));
                tabContents.forEach(content => content.classList.remove('active'));
                
                // Adicionar active ao selecionado
                btn.classList.add('active');
                document.getElementById(tabId).classList.add('active');
            });
        });

        // ===============================
        // FUN√á√ïES AUXILIARES
        // ===============================
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(1)) + ' ' + sizes[i];
        }

        // ===============================
        // INICIALIZA√á√ÉO
        // ===============================
        document.addEventListener('DOMContentLoaded', () => {
            // Renderizar vitrine inicial
            renderVitrine();
            
            // Adicionar evento de tecla para fechar painel admin
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && adminPanel.style.display === 'block') {
                    closeAdminPanel();
                }
            });
        });
    </script>
</body>
</html>